import{c as X,B as H}from"./index.DUM513om.js";import G from"./NewStamper.BKDc7L3s.js";import{S as Q}from"./StampCircle.DyuAEC7d.js";import{r as d,j as f,m as g,a as n,b as l,i as p,c as b,F as B,e as Y,v as x,d as _,l as k,t as U,f as j,ac as N,h as O,aj as Z,p as D,Z as q,_ as J,s as P,n as W}from"./runtime-core.esm-bundler.C8n-v3-D.js";import{_ as m}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{x as ee,H as te,c as A,k as se,E as oe,U as re,l as ae,K as ne}from"./utils.CFP4Y51R.js";import{X as ie}from"./DialogFooter.DtzIYxse.js";import{b as R}from"./index.LclF5nvU.js";import le from"./ChatBubble.jw7aR2iq.js";import"./wagmiConfig.Chk1Y_fx.js";import"./index.SVBtah2_.js";import"./getAccount.CrAKNmNJ.js";import"./getEthersSigner.DIrFHjWe.js";import"./getConnectorClient.CvN7nnx2.js";import"./inherits_browser.BGXtg88A.js";import"./stamp.DRRuyw06.js";import"./supabase.Cq5c-OsS.js";import"./Input.z9xLTbiq.js";import"./runtime-dom.esm-bundler.CkxCeCJQ.js";import"./watchConnections.CEVD3vQ5.js";import"./disconnect.fQnpZ0pp.js";import"./createLucideIcon.CCYx18s6.js";import"./anime.es.BNELU3II.js";const ce=1,pe=1e6,u={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let E=0;function ue(){return E=(E+1)%Number.MAX_VALUE,E.toString()}const V=new Map;function z(s){if(V.has(s))return;const t=setTimeout(()=>{V.delete(s),w({type:u.REMOVE_TOAST,toastId:s})},pe);V.set(s,t)}const c=d({toasts:[]});function w(s){switch(s.type){case u.ADD_TOAST:c.value.toasts=[s.toast,...c.value.toasts].slice(0,ce);break;case u.UPDATE_TOAST:c.value.toasts=c.value.toasts.map(t=>t.id===s.toast.id?{...t,...s.toast}:t);break;case u.DISMISS_TOAST:{const{toastId:t}=s;t?z(t):c.value.toasts.forEach(o=>{z(o.id)}),c.value.toasts=c.value.toasts.map(o=>o.id===t||t===void 0?{...o,open:!1}:o);break}case u.REMOVE_TOAST:s.toastId===void 0?c.value.toasts=[]:c.value.toasts=c.value.toasts.filter(t=>t.id!==s.toastId);break}}function M(){return{toasts:f(()=>c.value.toasts),toast:de,dismiss:s=>w({type:u.DISMISS_TOAST,toastId:s})}}function de(s){const t=ue(),o=r=>w({type:u.UPDATE_TOAST,toast:{...r,id:t}}),e=()=>w({type:u.DISMISS_TOAST,toastId:t});return w({type:u.ADD_TOAST,toast:{...s,id:t,open:!0,onOpenChange:r=>{r||e()}}}),{id:t,dismiss:e,update:o}}const _e=g({__name:"Toaster",setup(s,{expose:t}){t();const{toasts:o}=M(),e={toasts:o,isVNode:Z,get Toast(){return Se},get ToastClose(){return Oe},get ToastDescription(){return Ve},get ToastProvider(){return je},get ToastTitle(){return De},get ToastViewport(){return he}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),fe={class:"grid gap-1"};function me(s,t,o,e,r,i){return n(),l(e.ToastProvider,null,{default:p(()=>[(n(!0),b(B,null,Y(e.toasts,a=>(n(),l(e.Toast,x({key:a.id,ref_for:!0},a),{default:p(()=>[_("div",fe,[a.title?(n(),l(e.ToastTitle,{key:0},{default:p(()=>[k(U(a.title),1)]),_:2},1024)):j("",!0),a.description?(n(),b(B,{key:1},[e.isVNode(a.description)?(n(),l(e.ToastDescription,{key:0},{default:p(()=>[(n(),l(N(a.description)))]),_:2},1024)):(n(),l(e.ToastDescription,{key:1},{default:p(()=>[k(U(a.description),1)]),_:2},1024))],64)):j("",!0),O(e.ToastClose)]),(n(),l(N(a.action)))]),_:2},1040))),128)),O(e.ToastViewport)]),_:1})}const Te=m(_e,[["render",me]]),ve=g({__name:"Toast",props:{class:{},variant:{},onOpenChange:{type:Function},defaultOpen:{type:Boolean},forceMount:{type:Boolean},type:{},open:{type:Boolean},duration:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(s,{expose:t,emit:o}){t();const e=s,r=o,i=f(()=>{const{class:S,...h}=e;return h}),a=ee(i,r),y={props:e,emits:r,delegatedProps:i,forwarded:a,get ToastRoot(){return te},get toastVariants(){return Me},get cn(){return A}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}});function ge(s,t,o,e,r,i){return n(),l(e.ToastRoot,x(e.forwarded,{class:e.cn(e.toastVariants({variant:o.variant}),e.props.class),"onUpdate:open":o.onOpenChange}),{default:p(()=>[D(s.$slots,"default")]),_:3},16,["class","onUpdate:open"])}const Se=m(ve,[["render",ge]]),xe=g({__name:"ToastViewport",props:{hotkey:{},label:{type:[String,Function]},asChild:{type:Boolean},as:{},class:{}},setup(s,{expose:t}){t();const o=s,e=f(()=>{const{class:i,...a}=o;return a}),r={props:o,delegatedProps:e,get ToastViewport(){return se},get cn(){return A}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});function ye(s,t,o,e,r,i){return n(),l(e.ToastViewport,x(e.delegatedProps,{class:e.cn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e.props.class)}),null,16,["class"])}const he=m(xe,[["render",ye]]),be=g({__name:"ToastClose",props:{asChild:{type:Boolean},as:{},class:{}},setup(s,{expose:t}){t();const o=s,e=f(()=>{const{class:i,...a}=o;return a}),r={props:o,delegatedProps:e,get ToastClose(){return oe},get X(){return ie},get cn(){return A}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});function we(s,t,o,e,r,i){return n(),l(e.ToastClose,x(e.delegatedProps,{class:e.cn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e.props.class)}),{default:p(()=>[O(e.X,{class:"h-4 w-4"})]),_:1},16,["class"])}const Oe=m(be,[["render",we]]),Ae=g({__name:"ToastTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(s,{expose:t}){t();const o=s,e=f(()=>{const{class:i,...a}=o;return a}),r={props:o,delegatedProps:e,get ToastTitle(){return re},get cn(){return A}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});function Pe(s,t,o,e,r,i){return n(),l(e.ToastTitle,x(e.delegatedProps,{class:e.cn("text-sm font-semibold",e.props.class)}),{default:p(()=>[D(s.$slots,"default")]),_:3},16,["class"])}const De=m(Ae,[["render",Pe]]),Ce=g({__name:"ToastDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(s,{expose:t}){t();const o=s,e=f(()=>{const{class:i,...a}=o;return a}),r={props:o,delegatedProps:e,get ToastDescription(){return ae},get cn(){return A}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});function Ee(s,t,o,e,r,i){return n(),l(e.ToastDescription,x({class:e.cn("text-sm opacity-90",e.props.class)},e.delegatedProps),{default:p(()=>[D(s.$slots,"default")]),_:3},16,["class"])}const Ve=m(Ce,[["render",Ee]]),Be=g({__name:"ToastProvider",props:{label:{},duration:{},swipeDirection:{},swipeThreshold:{}},setup(s,{expose:t}){t();const e={props:s,get ToastProvider(){return ne}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}});function ke(s,t,o,e,r,i){return n(),l(e.ToastProvider,q(J(e.props)),{default:p(()=>[D(s.$slots,"default")]),_:3},16)}const je=m(Be,[["render",ke]]),Me=X("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[--radix-toast-swipe-end-x] data-[swipe=move]:translate-x-[--radix-toast-swipe-move-x] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ie={__name:"Stamper",setup(s,{expose:t}){const{toast:o}=M(),e=d(null),r=d(null),i=d(!1),{x:a,y,isOutside:S}=R(r),h=d(!0),F=v=>{h.value=v},L=f(()=>T.value?!1:!h.value),T=d(!1);P(a,v=>{T.value||e.value!=null&&(S.value?e.value.style.left=`${v}px`:e.value.style.left=`${v-150}px`)}),P(y,v=>{T.value||e.value!=null&&(S.value?e.value.style.top=`${v}px`:e.value.style.top=`${v-150}px`)}),P(S,()=>{T.value||(i.value=!S.value)});const C=d(!0),I=()=>{C.value||(T.value=!0,i.value=!0,console.log("Stamping..."))},K=()=>{C.value=!1};t({stampStop:T,confirmStamp:I});const $={toast:o,stampEl:e,stampzoneEl:r,zoomStamp:i,x:a,y,isOutside:S,isOutsideChatBubble:h,updateChatBubblePos:F,hideStamp:L,stampStop:T,noStamp:C,confirmStamp:I,updateStamp:K,ref:d,watch:P,computed:f,get Button(){return H},NewStamper:G,StampCircle:Q,get useToast(){return M},get Toaster(){return Te},get useMouseInElement(){return R},ChatBubble:le};return Object.defineProperty($,"__isScriptSetup",{enumerable:!1,value:!0}),$}},$e={key:0,class:"w-full fixed bottom-0 left-0 flex flex-col justify-start items-start p-8"},Ue={class:"flex space-x-4 justify-start items-start"},Ne=_("div",{class:"flex justify-center items-center text-3xl bg-yellow-400/20 text-yellow-700 p-4 rounded-full"},[_("iconify-icon",{icon:"ic:round-warning"}),k(" Â  "),_("div",null,"You don't have a stamp!")],-1),Re={class:"flex justify-center items-center"},ze=_("button",{class:"text-white bg-blue-500 rounded-xl px-8 py-4 hover:bg-blue-500 hover:text-white hover:border-blue-500 hover:ring-8 hover:ring-offset-4 duration-300 active:scale-90 text-3xl"},"Create my Stamp (Free)",-1);function Fe(s,t,o,e,r,i){return n(),b("div",null,[e.noStamp?(n(),b("div",$e,[_("div",Ue,[Ne,_("div",Re,[O(e.NewStamper,{onUpdate:t[0]||(t[0]=a=>e.updateStamp())},{default:p(()=>[ze]),_:1})])])])):(n(),b(B,{key:1},[_("div",{ref:"stampEl",class:W([[e.zoomStamp?"scale-125":"scale-75","duration-300 transition-transform"],"w-[300px] h-[300px] fixed z-40 bottom-0 left-0 pointer-events-none"])},[e.hideStamp?j("",!0):(n(),l(e.StampCircle,{key:0,address:"0xcB35ed9B8a830fA472931cc63a62793910c59270",name:"jesse"}))],2),O(e.Toaster)],64))])}const dt=m(Ie,[["render",Fe]]);export{dt as default};
