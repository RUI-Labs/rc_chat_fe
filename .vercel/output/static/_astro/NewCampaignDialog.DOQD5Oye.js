import{B as D}from"./index.DUM513om.js";import{D as T,a as C,b as v,c as x,d as y,e as b,f as V}from"./DialogFooter.DtzIYxse.js";import{_ as h}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{I as w}from"./Input.z9xLTbiq.js";import{L as B}from"./Label.B320eMaW.js";import{T as L}from"./Textarea.D9scu3iE.js";import{a as N}from"./index.LclF5nvU.js";import{m as j,a as F,b as I,i as l,g as S,r as s,h as o,p as R,l as n,d as r}from"./runtime-core.esm-bundler.C8n-v3-D.js";import"./utils.CFP4Y51R.js";import"./runtime-dom.esm-bundler.CkxCeCJQ.js";import"./createLucideIcon.CCYx18s6.js";const k=j({__name:"NewCampaignDialog",props:["project_id"],setup(g,{expose:a}){const p=g,{project_id:e}=S(p),i=s(!1),d=()=>{i.value=!0},t=()=>{i.value=!1};a({show:d,hide:t});const u=s(""),m=s(""),f=s(""),_=N(()=>{m.value=u.value.toLowerCase().replace(/ /g,"_"),f.value=`Thank you for confirming your participation in ${u.value}.`},300),c={props:p,project_id:e,open:i,show:d,hide:t,inputTitle:u,inputTag:m,inputReplyMessage:f,prefillForm:_,confirmCreateCampaign:async()=>{await fetch("/api/campaigns.json",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({project_id:e.value,tag:m.value,message:f.value})}),t()},get Button(){return D},get Dialog(){return T},get DialogContent(){return C},get DialogDescription(){return v},get DialogFooter(){return x},get DialogHeader(){return y},get DialogTitle(){return b},get DialogTrigger(){return V},get Input(){return w},get Label(){return B},get Textarea(){return L}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),M={class:"grid gap-4 py-4"},U={class:""},H={class:""},O=r("p",{class:"text-xs mt-2 font-light"},"user will be given this tag when they reply to this campaign",-1),P={class:""};function J(g,a,p,e,i,d){return F(),I(e.Dialog,{open:e.open,"onUpdate:open":a[5]||(a[5]=t=>e.open=t)},{default:l(()=>[o(e.DialogTrigger,null,{default:l(()=>[R(g.$slots,"default")]),_:3}),o(e.DialogContent,{class:"sm:max-w-[425px]"},{default:l(()=>[o(e.DialogHeader,null,{default:l(()=>[o(e.DialogTitle,null,{default:l(()=>[n("New Campaign")]),_:1}),o(e.DialogDescription,null,{default:l(()=>[n(" Create a new campaign. ")]),_:1})]),_:1}),r("div",M,[r("div",U,[o(e.Label,{for:"name",class:"text-right"},{default:l(()=>[n(" Title ")]),_:1}),o(e.Input,{modelValue:e.inputTitle,"onUpdate:modelValue":a[0]||(a[0]=t=>e.inputTitle=t),id:"title",onInput:a[1]||(a[1]=t=>e.prefillForm())},null,8,["modelValue"])]),r("div",H,[o(e.Label,{for:"tag",class:"text-right"},{default:l(()=>[n(" Short Tag ")]),_:1}),o(e.Input,{modelValue:e.inputTag,"onUpdate:modelValue":a[2]||(a[2]=t=>e.inputTag=t),id:"tag"},null,8,["modelValue"]),O]),r("div",P,[o(e.Label,{for:"reply_message",class:"text-right"},{default:l(()=>[n(" Reply Message ")]),_:1}),o(e.Textarea,{modelValue:e.inputReplyMessage,"onUpdate:modelValue":a[3]||(a[3]=t=>e.inputReplyMessage=t)},null,8,["modelValue"])])]),o(e.DialogFooter,null,{default:l(()=>[o(e.Button,{onClick:a[4]||(a[4]=t=>e.confirmCreateCampaign())},{default:l(()=>[n(" Create Campaign ")]),_:1})]),_:1})]),_:1})]),_:3},8,["open"])}const ee=h(k,[["render",J]]);export{ee as default};
